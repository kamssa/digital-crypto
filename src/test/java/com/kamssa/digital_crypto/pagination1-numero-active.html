////////////&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&//////////
import { Component } from '@angular/core';

@Component({
  selector: 'app-search',
  templateUrl: './search.component.html',
})

///////////////////////////////////////////////////////////
<label for="pageSize">Taille de page:</label>
<select id="pageSize" [(ngModel)]="itemsPerPage" (change)="performSearch()">
    <option *ngFor="let size of availablePageSizes" [value]="size">{{ size }}</option>
</select>
TypeScript :

typescript
Copy
availablePageSizes: number[] = [5, 10, 20, 50]; // Options disponibles pour l'utilisateur
itemsPerPage: number = 10; // Valeur par d√©faut
3. Stockage persistant
Vous pouvez √©galement stocker la taille de page choisie dans le localStorage ou un autre m√©canisme de stockage, ce qui permet de la conserver entre les diff√©rentes sessions de l'utilisateur.

Exemple :

typescript
Copy
ngOnInit() {
    const storedPageSize = localStorage.getItem('pageSize');
    this.itemsPerPage = storedPageSize ? parseInt(storedPageSize, 10) : 10; // Charger la taille de page stock√©e ou par d√©faut
}

setPageSize(size: number) {
    this.itemsPerPage = size;
    localStorage.setItem('pageSize', size.toString()); // Sauvegarder la taille de page s√©lectionn√©e
    this.performSearch(); // Rechercher avec la nouvelle taille
}
////////______________________//////////////////////////////

export class SearchComponent {
  currentPage: number = 1; // Page actuelle
  totalPages: number = 10;  // Total de pages

  // M√©thode pour obtenir la plage de pages √† afficher
  getPageRange(): number[] {
    const range: number[] = [];
    const start = Math.max(1, this.currentPage - 2);
    const end = Math.min(this.totalPages, this.currentPage + 2);

    for (let i = start; i <= end; i++) {
      range.push(i);
    }
    return range;
  }

  // M√©thode pour changer de page
  goToPage(page: number): void {
    if (page > 0 && page <= this.totalPages) {
      this.currentPage = page;
      // Ajoutez ici votre logique pour charger les donn√©es de la nouvelle page
    }
  }

  isFirstPage(): boolean {
    return this.currentPage === 1;
  }

  isLastPage(): boolean {
    return this.currentPage === this.totalPages;
  }
}
Explication :
currentPage et totalPages : Ces variables g√®rent la page actuelle et le nombre total de pages.

getPageRange : Cette m√©thode cr√©e une plage de pages √† afficher autour de la page actuelle (deux pages avant et deux pages apr√®s), tout en s'assurant de ne pas d√©passer les limites.

goToPage : Cette m√©thode change la page actuelle lorsque l'utilisateur clique sur une page. Vous pouvez ajouter la logique pour r√©cup√©rer les donn√©es appropri√©es pour cette page.

isFirstPage et isLastPage : M√©thodes d'aide pour d√©terminer si vous √™tes sur la premi√®re ou la derni√®re page.

Utilisation dans le HTML :
Voici comment vous pourriez utiliser getPageRange dans votre template :

html
Copy
<div class="pagination">
  <ng-container *ngFor="let page of getPageRange(); let i = index">
    <button (click)="goToPage(page)" [class.active]="page === currentPage">
      {{ page }}
    </button>
  </ng-container>
</div>

///////////////&&&&&&&&&&&&&&&&&&&&&&/////////////////////


/////////////////&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
import { Component } from '@angular/core';

@Component({
  selector: 'app-search',
  templateUrl: './search.component.html',
  styleUrls: ['./search.component.css']
})
export class SearchComponent {
  searchTerm: string = '';
  selectedFilter: string = 'name'; // Filtre par d√©faut
  results: any[] = [];
  currentPage: number = 1;
  itemsPerPage: number = 10; // Taille par d√©faut
  totalElements: number = 0;
  totalPages: number = 0;
  isError: boolean = false; // Pour afficher le message d'erreur

  paginator = {
    totalElements: 0,
    pageSize: 10,
    pageSizes: [10, 20, 50],
    setPageSize: (size: number) => {
      this.itemsPerPage = size; // Met √† jour la taille de la page
      this.performSearch(); // Rappelle la recherche avec la nouvelle taille
    }
  };

  performSearch() {
    if (this.searchTerm.length < 3) {
      this.isError = true; // Active le message d'erreur
      this.results = [];
      this.totalElements = 0; // R√©initialise le total des √©l√©ments
      this.currentPage = 1;   // Remet √† la premi√®re page
      return;
    }
    
    this.isError = false; // D√©sactive le message d'erreur

    const allData = this.fetchResults(this.searchTerm, this.selectedFilter);
    this.totalElements = allData.length; // Met √† jour le total d'√©l√©ments

    // Applique la pagination
    this.results = allData.slice((this.currentPage - 1) * this.itemsPerPage, this.currentPage * this.itemsPerPage);
    this.totalPages = Math.ceil(this.totalElements / this.itemsPerPage); // Calcule le nombre total de pages
  }

  fetchResults(term: string, filter: string) {
    const allData = [...]; // Remplacez cela par votre source de donn√©es
//////////////////////&&&&&&&&&&&&&&&&&&&&&&&&&
/////////////////////////////////////////////////

<div class="pagination">
  <div class="count">
    <label for="paginationSize">Taille des √©l√©ments par page:</label>
    <select id="paginationSize" (change)="paginator.setPageSize($event.target.value)">
      <option *ngFor="let size of paginator.pageSizes" [value]="size">
        {{ size }}
      </option>
    </select>
    <span>Total: {{ paginator.totalElements }}</span>
  </div>

  <div class="navigation">
    <p-button label="Pr√©c√©dent" (click)="previousPage()" [disabled]="currentPage === 1"></p-button>
    <span>{{ currentPage }} / {{ totalPages }}</span>
    <p-button label="Suivant" (click)="nextPage()" [disabled]="currentPage === totalPages"></p-button>
  </div>
</div>
TypeScript (Pagination Logic)
Assurez-vous que votre TypeScript est correctement configur√© :

typescript
Copy
// TypeScript pour le paginator
import { Component } from '@angular/core';

@Component({
  selector: 'app-search',
  templateUrl: './search.component.html',
  styleUrls: ['./search.component.css']
})
export class SearchComponent {
  searchTerm: string = '';
  results: any[] = [];
  currentPage: number = 1;
  itemsPerPage: number = 10; // Taille par d√©faut
  totalElements: number = 0; // Nombre total d'√©l√©ments
  paginator = {
    totalElements: 0,
    pageSizes: [10, 20, 50],
    setPageSize: (size: number) => {
      this.itemsPerPage = size; // Mettez √† jour la taille des √©l√©ments par page
      this.performSearch(); // Recherchez √† nouveau avec la nouvelle taille
    }
  };

  // La m√©thode performSearch() et d'autres logiques sont ici‚Ä¶

  nextPage() {
    if (this.currentPage < this.totalPages) {
      this.currentPage++;
      this.performSearch();
    }
  }

  previousPage() {
    if (this.currentPage > 1) {
      this.currentPage--;
      this.performSearch();
    }
  }
}
////////////////////////////&&&&&&&&&&&&&&&&&&&&&&&&&&



‚úÖ Mise √† jour du pagination.component.html
Ce code affiche la page actuelle au centre, avec un style pour la page active.

html
Copier
Modifier
<div class="pagination">
  <!-- Premi√®re page -->
  <a (click)="goToFirst()" [ngClass]="isFirstPage() ? 'disabled' : ''">
    <i class="fa fa-angle-double-left"></i>
  </a>

  <!-- Page pr√©c√©dente -->
  <a (click)="previousPage()" [ngClass]="isFirstPage() ? 'disabled' : ''">
    <i class="fa fa-angle-left"></i>
  </a>

  <!-- Num√©ros de page avec page active au centre -->
  <ng-container *ngFor="let page of getPageRange(); let i = index">
    <a (click)="goToPage(page)" [ngClass]="page === paginator.query.page ? 'active' : ''">
      {{ page + 1 }}
    </a>
  </ng-container>

  <!-- Page suivante -->
  <a (click)="nextPage()" [ngClass]="isLastPage() ? 'disabled' : ''">
    <i class="fa fa-angle-right"></i>
  </a>

  <!-- Derni√®re page -->
  <a (click)="goToLast()" [ngClass]="isLastPage() ? 'disabled' : ''">
    <i class="fa fa-angle-double-right"></i>
  </a>
</div>

<div class="count">
  <span>Total : {{ paginator.totalElements }} √©l√©ments</span>
</div>
üìä Mise √† jour du pagination.component.ts
Ajoute la logique pour g√©rer les num√©ros de page et les actions.

typescript
Copier
Modifier
import { Component } from '@angular/core';

@Component({
  selector: 'app-pagination',
  templateUrl: './pagination.component.html',
  styleUrls: ['./pagination.component.css'],
})
export class PaginationComponent {
  paginator = {
    query: { page: 0 }, // Page actuelle (index√©e √† partir de 0)
    totalPages: 10, // Nombre total de pages
    totalElements: 100, // Nombre total d'√©l√©ments
    pageSize: 10, // Taille de la page
  };

  /** Aller √† la premi√®re page */
  goToFirst() {
    if (!this.isFirstPage()) {
      this.paginator.query.page = 0;
      this.updatePage();
    }
  }

  /** Aller √† la page pr√©c√©dente */
  previousPage() {
    if (!this.isFirstPage()) {
      this.paginator.query.page--;
      this.updatePage();
    }
  }

  /** Aller √† la page suivante */
  nextPage() {
    if (!this.isLastPage()) {
      this.paginator.query.page++;
      this.updatePage();
    }
  }

  /** Aller √† la derni√®re page */
  goToLast() {
    if (!this.isLastPage()) {
      this.paginator.query.page = this.paginator.totalPages - 1;
      this.updatePage();
    }
  }

  /** Aller √† une page sp√©cifique */
  goToPage(page: number) {
    this.paginator.query.page = page;
    this.updatePage();
  }

  /** V√©rifie si c'est la premi√®re page */
  isFirstPage(): boolean {
    return this.paginator.query.page === 0;
  }

  /** V√©rifie si c'est la derni√®re page */
  isLastPage(): boolean {
    return this.paginator.query.page >= this.paginator.totalPages - 1;
  }

 

<div class="search-container">
  <input
    type="text"
    [(ngModel)]="searchTerm"
    (input)="onSearch()"
    placeholder="Rechercher..."
  />

  <div class="results" *ngIf="filteredResults.length > 0">
    <div *ngFor="let item of filteredResults">
      {{ item }}
    </div>

    <div class="pagination">
      <button (click)="previousPage()" [disabled]="currentPage === 1">Pr√©c√©dent</button>
      <span>Page {{ currentPage }} sur {{ totalPages }}</span>
      <button (click)="nextPage()" [disabled]="currentPage === totalPages">Suivant</button>
    </div>
  </div>
  <div *ngIf="filteredResults.length === 0">Aucun r√©sultat trouv√©.</div>
</div>
TypeScript (search.component.ts)
typescript
Copy
import { Component } from '@angular/core';

@Component({
  selector: 'app-search',
  templateUrl: './search.component.html',
  styleUrls: ['./search.component.css']
})
export class SearchComponent {
  searchTerm: string = '';
  items: string[] = ['Pomme', 'Banane', 'Orange', 'Mangue', 'Fraise'];
  filteredResults: string[] = [];
  currentPage: number = 1;
  itemsPerPage: number = 2;

  get totalPages(): number {
    return Math.ceil(this.filteredResults.length / this.itemsPerPage);
  }

  onSearch() {
    this.filteredResults = this.items.filter(item =>
      item.toLowerCase().includes(this.searchTerm.toLowerCase())
    ).slice((this.currentPage - 1) * this.itemsPerPage, this.currentPage * this.itemsPerPage);
  }

  nextPage() {
    if (this.currentPage < this.totalPages) {
      this.currentPage++;
      this.onSearch();
    }
  }

  previousPage() {
    if (this.currentPage > 1) {
      this.currentPage--;
      this.onSearch();
    }
  }
}
 /** G√©n√©rer la plage de pages √† afficher */
  getPageRange(): number[] {
    const maxVisiblePages = 5; // Nombre de pages visibles autour de la page active
    const currentPage = this.paginator.query.page;
    const totalPages = this.paginator.totalPages;

    const start = Math.max(0, currentPage - Math.floor(maxVisiblePages / 2));
    const end = Math.min(totalPages, start + maxVisiblePages);

    return Array.from({ length: end - start }, (_, i) => start + i);
  }

  /** Met √† jour la page (Appeler l'API si n√©cessaire) */
  updatePage() {
    console.log('Page mise √† jour :', this.paginator.query.page + 1);
    // Appel API ou autres actions ici
  }
}
üé® Ajout du style (pagination.component.css)
Ajoute ce style pour mettre en √©vidence la page active.

css
Copier
Modifier
.pagination {
  display: flex;
  align-items: center;
  gap: 8px;
}

.pagination a {
  padding: 5px 10px;
  text-decoration: none;
  border: 1px solid #ddd;
  border-radius: 5px;
  cursor: pointer;
}

.pagination a.active {
  background-color: #007bff;
  color: white;
  font-weight: bold;
}

.pagination a.disabled {
  pointer-events: none;
  opacity: 0.5;
}

.count {
  margin-top: 10px;
}
